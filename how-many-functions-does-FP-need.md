# 函数式编程需要多少个函数？

这是一个非常有趣的问题，触及了函数式编程（FP）的理论基础。

答案取决于你从哪个层面来定义"需要"：

## 1. 理论极限：只需要 2 个（甚至 1 个）

从计算机科学的底层理论（组合子逻辑 Combinatory Logic）来看，你只需要 **2 个** 基本函数（组合子）就能构建出任何其他可计算的逻辑（等价于图灵完备）。

*   **S 组合子**
*   **K 组合子**

*(注：常用的 I 组合子其实可以用 S 和 K 表示：`I = SKK`。甚至还有一种名为 **Iota** 的单一组合子，仅用它一个就能推导出 S 和 K。)*

**结论**：理论上，只要有函数**定义**和函数**应用**的能力，极少数几个元函数就足够了。

## 2. 核心架构：只需要 3-5 个

在实际编写业务代码时，FP 提倡用一组通用的"高阶函数"来替代各种控制流（如 for 循环、if-else 嵌套）。绝大多数复杂的数据处理都可以简化为以下几个核心函数的组合：

*   **Map** (映射)：一对一变换
*   **Bind / FlatMap** (扁平化映射)：处理嵌套结构（如 `Option<Option<T>>`）或串联依赖
*   **Fold / Reduce** (折叠/归约)：将列表汇聚成一个值
*   **Filter** (过滤)：筛选

**Alan Perlis** 有句名言概括了这个思想：

> "It is better to have 100 functions operate on one data structure than 10 functions on 10 data structures."
> （最好是有 100 个函数操作同一种数据结构，而不是 10 个函数操作 10 种不同的数据结构。）

## 3. 实际工程：无限个

虽然核心构建块很少，但在实际工程（比如使用 `language-ext` 库）中，你需要编写无数个**领域函数**（Domain Functions）。

FP 的优势在于，你只需要编写专注于**业务逻辑**的小函数，然后使用上面提到的那几个"核心函数"（Map, Bind 等）作为**胶水**，将它们粘合起来。

## 总结

| 层面 | 所需函数数量 |
|------|-------------|
| 理论极限（S 和 K 组合子） | **2 个** |
| 日常开发核心工具（Map, Bind, Fold 等） | **3-5 个** |
| 实际工程中的领域函数 | **无限个** |
